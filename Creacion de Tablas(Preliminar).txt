CREATE TABLE Productos(
    IdProducto SERIAL PRIMARY KEY,
    NombreProducto VARCHAR(255),
    DescripcionProducto VARCHAR(400),
    PrecioProducto NUMERIC,
    StockProducto INTEGER
);

CREATE TABLE TipoDocumento(
    IdTipoDocumento SERIAL PRIMARY KEY,
    NombreDocumento VARCHAR(255),
    TipoDocumento VARCHAR(255)
);

CREATE TABLE Venta(
    IdVenta SERIAL PRIMARY KEY,
    FechaVenta DATE,
    MontoVenta NUMERIC,
    IdTipoDocumento INTEGER,
    FOREIGN KEY (IdTipoDocumento) REFERENCES TipoDocumento(IdTipoDocumento)
);

CREATE TABLE Comuna (
    IdComuna SERIAL PRIMARY KEY,
    NombreComuna VARCHAR(255),
    ProvinciaComuna VARCHAR(255),
    RegionComuna VARCHAR(255)
);

CREATE TABLE Tienda(
    IdTienda SERIAL PRIMARY KEY,
    NombreTienda VARCHAR(255),
    DireccionTienda VARCHAR(255),
    IdComuna INTEGER,
    FOREIGN KEY (IdComuna) REFERENCES Comuna(IdComuna)
);

CREATE TABLE Empleado(
    IdEmpleado SERIAL PRIMARY KEY,
    NombreEmpleado VARCHAR(255),
    ApellidoPatEmpleado VARCHAR(255),
    ApellidoMatEmpleado VARCHAR(255),
    TelefonoEmpleado VARCHAR(255),
    CorreoEmpleado VARCHAR(255),
    FechaInicioContrato DATE,
    FechaTerminoContrato DATE,
    IdComuna INTEGER,
    FOREIGN KEY (IdComuna) REFERENCES Comuna(IdComuna),
    IdTienda INTEGER,
    FOREIGN KEY (IdTienda) REFERENCES Tienda(IdTienda)
);

CREATE TABLE Sueldo (
    IdSueldo SERIAL PRIMARY KEY,
    MontoSueldo INTEGER,
    FechaPago DATE,
    IdEmpleado INTEGER,
    FOREIGN KEY (IdEmpleado) REFERENCES Empleado(IdEmpleado)
);

CREATE TABLE Vendedor (
    IdVendedor SERIAL PRIMARY KEY,
    ComisionVendedor INTEGER,
    HorasExtras INTEGER,
    IdEmpleado INTEGER,
    FOREIGN KEY (IdEmpleado) REFERENCES Empleado(IdEmpleado)
);

CREATE TABLE Producto_Venta (
    IdProductoVenta SERIAL PRIMARY KEY,
    IdProducto INTEGER,
    FOREIGN KEY (IdProducto) REFERENCES Productos(IdProducto),
    IdVenta INTEGER,
    FOREIGN KEY (IdVenta) REFERENCES Venta(IdVenta),
	CantidadVendida INTEGER
);

CREATE TABLE Venta_Vendedor (
    IdVentaVendedor SERIAL PRIMARY KEY,
    IdVendedor INTEGER,
    FOREIGN KEY (IdVendedor) REFERENCES Vendedor(IdVendedor),
    IdVenta INTEGER,
    FOREIGN KEY (IdVenta) REFERENCES Venta(IdVenta)
);

CREATE TABLE Tienda_Empleado(
    IdTiendaEmpleado SERIAL PRIMARY KEY,
    IdEmpleado INTEGER,
    FOREIGN KEY (IdEmpleado) REFERENCES Empleado(IdEmpleado),
    IdTienda INTEGER,
    FOREIGN KEY (IdTienda) REFERENCES Tienda(IdTienda)
);
